<!--
<p style="font-family: Arial; font-size: 15px; text-align:center;">Processing, please wait...</p>
-->

<form action="https://secure.paygate.co.za/PayHost/redirect.trans" method="post" id="3ds-form" target="secureIframe" style="display:none;">
    <input type="text" name="PAY_REQUEST_ID" id="PAY_REQUEST_ID" value="">
    <input type="text" name="PAYGATE_ID" id="PAYGATE_ID" value="">
    <input type="text" name="CHECKSUM" id="CHECKSUM" value="">
    <input type="submit" value="Perform 3D Secure Authentication" class="btn btn-block btn-primary">
</form>
<iframe name="secureIframe" id="secureIframe" frameBorder="0" style="width:100%;height:800px;border:none;"></iframe>
<script>
    document.getElementById('3ds-form').action = getParameterByName("url");
    document.getElementById('PAY_REQUEST_ID').value = getParameterByName("PAY_REQUEST_ID");
    document.getElementById('PAYGATE_ID').value = getParameterByName("PAYGATE_ID");
    document.getElementById('CHECKSUM').value = getParameterByName("CHECKSUM");

    document.getElementById('3ds-form').submit();

    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }
</script>